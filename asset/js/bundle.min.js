!function e(t,r,n){function a(i,s){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(o)return o(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[i]={exports:{}};t[i][0].call(c.exports,function(e){var r=t[i][1][e];return a(r?r:e)},c,c.exports,e,t,r,n)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(e,t,r){"use strict";e("./modules/MorphSVGPlugin.min.js"),e("./modules/native.history.js"),function(){function e(){var e=document.querySelector(".video"),t=document.querySelector(".video-play");null!=e&&(e.controls=!1,e.loop=!1,t.onclick=function(){t.classList.add("JS_off"),e.play()},e.onended=function(e){t.classList.remove("JS_off")})}function t(){if(s=document.querySelector(".post-header-content"),l=document.querySelector(".page-header"),u=document.querySelector(".post-header-wrap .gradient"),null!=s){{s.clientHeight}s.style.top=(400-s.clientHeight)/2+"px"}}function r(){c=document.querySelectorAll("a");for(var e=0;e<c.length;e++){var t=new RegExp("/"+window.location.host+"/");c[e].onclick=t.test(c[e].href)?function(e){e.preventDefault();var t=this.href;o(t)}:function(e){e.preventDefault();var t=this.href;if(this.href.indexOf("https://twitter.com/intent")>-1){var r=document.title.split(" | Tom Does Digital");r=encodeURIComponent(r),t="https://twitter.com/intent/tweet?text="+r+"&url="+window.location.href+"&via=tomchewitt"}window.open(t,"_blank")}}}function n(n){document.querySelector(".content").innerHTML=n,window.scrollTo(0,0),t(),r(),e();var o=i(6e3);TweenMax.to(".triangle",1,{morphSVG:o,delay:.3,onComplete:a}),TweenMax.to(".overlay",.8,{opacity:0,delay:.3}),TweenMax.to(".spinner",.3,{opacity:0})}function a(){TweenMax.set(".spinner",{zIndex:-1}),TweenMax.set(".loader",{zIndex:-1}),TweenMax.set(".overlay",{zIndex:-1})}function o(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.onload=function(){if(t.status>=200&&t.status<400){var r=t.responseText.split('<div class="content">'),a=r[0].split("<title>"),a=a[1].split("</title>"),o=r[1].split('<section class="footer">'),s=i(1),l=i(6e3);document.querySelector(".triangle").setAttribute("d",l),TweenMax.set(".spinner",{zIndex:100}),TweenMax.set(".loader",{zIndex:99}),TweenMax.set(".overlay",{zIndex:98}),TweenMax.to(".spinner",.3,{opacity:1,zIndex:100,delay:.7}),TweenMax.to(".triangle",.7,{morphSVG:s,zIndex:99,onComplete:n,onCompleteParams:[o[0]]}),TweenMax.to(".overlay",.9,{opacity:.9,zIndex:98}),y=!1,g++,History.pushState({state:g},a[0],e)}else window.open(this.href)},t.onerror=function(){window.open(this.href)},t.send()}function i(e){var t=window.innerWidth,r=window.innerHeight,n=Math.sqrt(3)/2*e,a={x:.6*t-e/2,y:.5*r+n/2},o={x:.6*t+e/2,y:.5*r+n/2},i={x:.6*t,y:.5*r-n/2},s="M0 0 L"+t+" 0 L"+t+" "+r+" L0 "+r+" z ",l="M"+i.x+" "+i.y+" L"+a.x+" "+a.y+" L"+o.x+" "+o.y+" z";return s+l}var s,l,u,c,d=160,p=400,f=document.querySelector(".hamburger"),h=document.querySelector(".sidebar"),g=1,y=!0;r(),t(),e(),window.onscroll=function(){var e=window.pageYOffset,t=e/p/2.2+.8,r=1-e/d;if(null!=l&&d>=e&&(l.style.opacity=r),null!=u&&p>=e&&(u.style.opacity=t),null!=s){var n=(380-s.clientHeight)/2-10;e>=n?(s.style.top="auto",s.style.bottom="60px",s.style.position="absolute",s.style.left="12.5%",s.style.width="75%"):(s.style.top=(400-s.clientHeight)/2+"px",s.style.bottom="auto",s.style.position="fixed",s.style.left="30%",s.style.width="60%")}},f.addEventListener("click",function(){h.classList.toggle("JS_on")}),History.Adapter.bind(window,"statechange",function(){var e=History.getState();1==y&&o(e.url),y=!0})}()},{"./modules/MorphSVGPlugin.min.js":2,"./modules/native.history.js":3}],2:[function(e,t,r){(function(e){"use strict";var r="undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:void 0||window;(r._gsQueue||(r._gsQueue=[])).push(function(){var e=Math.PI/180,t=180/Math.PI,n=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,a=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,o=/[achlmqstvz]/gi,i=r.TweenLite,s=function(e){window.console},l=function P(t,r){var n,a,o,i,P,s,l=Math.ceil(Math.abs(r)/90),u=0,c=[];for(t*=e,r*=e,n=r/l,a=4/3*Math.sin(n/2)/(1+Math.cos(n/2)),s=0;l>s;s++)o=t+s*n,i=Math.cos(o),P=Math.sin(o),c[u++]=i-a*P,c[u++]=P+a*i,o+=n,i=Math.cos(o),P=Math.sin(o),c[u++]=i+a*P,c[u++]=P-a*i,c[u++]=i,c[u++]=P;return c},u=function(r,n,a,o,i,s,u,c,d){if(r!==c||n!==d){a=Math.abs(a),o=Math.abs(o);var p=i%360*e,f=Math.cos(p),h=Math.sin(p),g=(r-c)/2,y=(n-d)/2,v=f*g+h*y,S=-h*g+f*y,b=a*a,m=o*o,I=v*v,x=S*S,T=I/b+x/m;T>1&&(a=Math.sqrt(T)*a,o=Math.sqrt(T)*o,b=a*a,m=o*o);var w=s===u?-1:1,A=(b*m-b*x-m*I)/(b*x+m*I);0>A&&(A=0);var M=w*Math.sqrt(A),H=M*(a*S/o),C=M*-(o*v/a),U=(r+c)/2,L=(n+d)/2,E=U+(f*H-h*C),z=L+(h*H+f*C),q=(v-H)/a,B=(S-C)/o,P=(-v-H)/a,j=(-S-C)/o,O=Math.sqrt(q*q+B*B),k=q;w=0>B?-1:1;var N=w*Math.acos(k/O)*t;O=Math.sqrt((q*q+B*B)*(P*P+j*j)),k=q*P+B*j,w=0>q*j-B*P?-1:1;var D=w*Math.acos(k/O)*t;!u&&D>0?D-=360:u&&0>D&&(D+=360),D%=360,N%=360;var _,R,V,Q=l(N,D),F=f*a,G=h*a,$=h*-o,Y=f*o,X=Q.length-2;for(_=0;X>_;_+=2)R=Q[_],V=Q[_+1],Q[_]=R*F+V*$+E,Q[_+1]=R*G+V*Y+z;return Q[Q.length-2]=c,Q[Q.length-1]=d,Q}},c=function j(e){var t,r,a,o,i,j,l,c,d,p,f,h,g,y=(e+"").match(n)||[],v=[],S=0,b=0,m=y.length,I=2,x=0;if(!e||!isNaN(y[0])||isNaN(y[1]))return s("ERROR: malformed path data: "+e),v;for(t=0;m>t;t++)if(g=i,isNaN(y[t])?(i=y[t].toUpperCase(),j=i!==y[t]):t--,a=+y[t+1],o=+y[t+2],j&&(a+=S,o+=b),0===t&&(c=a,d=o),"M"===i)S=c=a,b=d=o,l=[a,o],x+=I,I=2,v.push(l),t+=2;else if("C"===i)l||(l=[0,0]),l[I++]=a,l[I++]=o,j||(S=b=0),l[I++]=S+1*y[t+3],l[I++]=b+1*y[t+4],l[I++]=S+=1*y[t+5],l[I++]=b+=1*y[t+6],t+=6;else if("S"===i)"C"===g||"S"===g?(p=S-l[I-4],f=b-l[I-3],l[I++]=S+p,l[I++]=b+f):(l[I++]=S,l[I++]=b),l[I++]=a,l[I++]=o,j||(S=b=0),l[I++]=S+=1*y[t+3],l[I++]=b+=1*y[t+4],t+=4;else if("Q"===i)p=a-S,f=o-b,l[I++]=S+2*p/3,l[I++]=b+2*f/3,j||(S=b=0),S+=1*y[t+3],b+=1*y[t+4],p=a-S,f=o-b,l[I++]=S+2*p/3,l[I++]=b+2*f/3,l[I++]=S,l[I++]=b,t+=4;else if("T"===i)p=S-l[I-4],f=b-l[I-3],l[I++]=S+p,l[I++]=b+f,p=S+1.5*p-a,f=b+1.5*f-o,l[I++]=a+2*p/3,l[I++]=o+2*f/3,l[I++]=S=a,l[I++]=b=o,t+=2;else if("H"===i)o=b,l[I++]=S+(a-S)/3,l[I++]=b+(o-b)/3,l[I++]=S+2*(a-S)/3,l[I++]=b+2*(o-b)/3,l[I++]=S=a,l[I++]=o,t+=1;else if("V"===i)o=a,a=S,j&&(o+=b-S),l[I++]=a,l[I++]=b+(o-b)/3,l[I++]=a,l[I++]=b+2*(o-b)/3,l[I++]=a,l[I++]=b=o,t+=1;else if("L"===i)l[I++]=S+(a-S)/3,l[I++]=b+(o-b)/3,l[I++]=S+2*(a-S)/3,l[I++]=b+2*(o-b)/3,l[I++]=S=a,l[I++]=b=o,t+=2;else if("Z"===i)S=c,b=d,l.closed=!0;else if("A"===i){for(h=u(S,b,1*y[t+1],1*y[t+2],1*y[t+3],1*y[t+4],1*y[t+5],(j?S:0)+1*y[t+6],(j?b:0)+1*y[t+7]),r=0;r<h.length;r++)l[I++]=h[r];S=l[I-2],b=l[I-1],t+=7}else s("Error: malformed path data: "+e);return v.totalPoints=x+I,v},d=function O(e,t){var r,n,a,o,i,s,l,u,O,c,d,p,f,h,g=0,y=.999999,v=e.length,S=t/((v-2)/6);for(f=2;v>f;f+=6)for(g+=S;g>y;)r=e[f-2],n=e[f-1],a=e[f],o=e[f+1],i=e[f+2],s=e[f+3],l=e[f+4],u=e[f+5],h=1/(Math.floor(g)+1),O=r+(a-r)*h,d=a+(i-a)*h,O+=(d-O)*h,d+=(i+(l-i)*h-d)*h,c=n+(o-n)*h,p=o+(s-o)*h,c+=(p-c)*h,p+=(s+(u-s)*h-p)*h,e.splice(f,4,r+(a-r)*h,n+(o-n)*h,O,c,O+(d-O)*h,c+(p-c)*h,d,p,i+(l-i)*h,s+(u-s)*h),f+=6,v+=6,g--;return e},p=function(e){var t,r,n,a,o="",i=e.length,s=100;for(r=0;i>r;r++){for(a=e[r],o+="M"+a[0]+","+a[1]+" C",t=a.length,n=2;t>n;n++)o+=(a[n++]*s|0)/s+","+(a[n++]*s|0)/s+" "+(a[n++]*s|0)/s+","+(a[n++]*s|0)/s+" "+(a[n++]*s|0)/s+","+(a[n]*s|0)/s+" ";a.closed&&(o+="z")}return o},f=function(e){for(var t=[],r=e.length-1,n=0;--r>-1;)t[n++]=e[r],t[n++]=e[r+1],r--;for(r=0;n>r;r++)e[r]=t[r];e.reversed=e.reversed?!1:!0},h=function(e){var t,r=e.length,n=0,a=0;for(t=0;r>t;t++)n+=e[t++],a+=e[t];return[n/(r/2),a/(r/2)]},g=function(e){var t,r,n,a=e.length,o=e[0],i=o,s=e[1],l=s;for(n=6;a>n;n+=6)t=e[n],r=e[n+1],t>o?o=t:i>t&&(i=t),r>s?s=r:l>r&&(l=r);return e.centerX=(o+i)/2,e.centerY=(s-l)/2,e.size=(o-i)*(s-l)},y=function(e,t){return t.length-e.length},v=function(e,t){var r=e.size||g(e),n=t.size||g(t);return Math.abs(n-r)<(r+n)/20?t.centerX-e.centerX||t.centerY-e.centerY:n-r},S=function(e,t){var r,n,a=e.slice(0),o=e.length,i=o-2;for(t=0|t,r=0;o>r;r++)n=(r+t)%i,e[r++]=a[n],e[r]=a[n+1]},b=function(e,t,r,n,a){var o,i,s,l,u=e.length,c=0,d=u-2;for(r*=6,i=0;u>i;i+=6)o=(i+r)%d,l=e[o]-(t[i]-n),s=e[o+1]-(t[i+1]-a),c+=Math.sqrt(s*s+l*l);return c},m=function(e,t,r){var n,a,o,i=e.length,s=h(e),l=h(t),u=l[0]-s[0],c=l[1]-s[1],d=b(e,t,0,u,c),p=0;for(o=6;i>o;o+=6)a=b(e,t,o/6,u,c),d>a&&(d=a,p=o);if(r)for(n=e.slice(0),f(n),o=6;i>o;o+=6)a=b(n,t,o/6,u,c),d>a&&(d=a,p=-o);return p/6},I=function(e,t,r){var n,a,o,i,s=e.length,l=99999999999,u=0;for(i=0;s>i;i+=6)n=e[i]-t,a=e[i+1]-r,o=Math.sqrt(n*n+a*a),l>o&&(l=o,u=i);return u},x=function(e,t,r){var n,a,o,i,s=t.length,l=0,u=.8*(t[r].size||g(t[r])),c=999999999999,d=e.size||g(e),p=e.centerX,f=e.centerY;for(n=r;s>n&&(d=t[n].size||g(t[n]),!(u>d));n++)a=t[n].centerX-p,o=t[n].centerY-f,i=Math.sqrt(a*a+o*o),c>i&&(l=n,c=i);return i=t[l],t.splice(l,1),i},T=function k(e,t,r,n){var a,o,i,s,l,u=t.length-e.length,c=u>0?t:e,p=u>0?e:t,h=0,g="complexity"===n?y:v,k=p.length,b="object"==typeof r&&r.push?r.slice(0):[r],T="reverse"===b[0]||b[0]<0;if(p[0]){if(u){if(0>u&&(u=-u),e.sort(g),t.sort(g),g===v)for(k=0;k<p.length;k++)c.splice(k,0,x(p[k],c,k));for(c[0].length>p[0].length&&d(p[0],(c[0].length-p[0].length)/6|0),k=p.length;u>h;)i=I(p[0],c[k][0],c[k][1]),s=p[0][i],l=p[0][i+1],p[k++]=[s,l,s,l,s,l,s,l],p.totalPoints+=8,h++}for(k=0;k<e.length;k++)a=t[k],o=e[k],u=a.length-o.length,0>u?d(a,-u/6|0):u>0&&d(o,u/6|0),T&&!o.reversed&&f(o),r=b[k]||0===b[k]?b[k]:"auto",r&&(Math.abs(o[0]-o[o.length-2])<.5&&Math.abs(o[1]-o[o.length-1])<.5?"auto"===r?(b[k]=r=m(o,a,0===k),0>r&&(T=!0,f(o),r=-r),S(o,6*r)):"reverse"!==r&&(k&&0>r&&f(o),S(o,6*(0>r?-r:r))):!T&&("auto"===r&&Math.abs(a[0]-o[0])+Math.abs(a[1]-o[1])+Math.abs(a[a.length-2]-o[o.length-2])+Math.abs(a[a.length-1]-o[o.length-1])>Math.abs(a[0]-o[o.length-2])+Math.abs(a[1]-o[o.length-1])+Math.abs(a[a.length-2]-o[0])+Math.abs(a[a.length-1]-o[1])||r%2)?(f(o),b[k]=-1,T=!0):"auto"===r?b[k]=0:"reverse"===r&&(b[k]=-1));return b}},w=function(e,t,r){var n=c(e[0]),a=c(e[1]);T(n,a,t||0===t?t:"auto",r)&&(e[0]=p(n),e[1]=p(a))},A=function(e,t){return t||e||0===e?function(r){w(r,e,t)}:w},M=function(e,t){if(!t)return e;var r,n,o,i=e.match(a)||[],s=i.length,l="";for("reverse"===t?(n=s-1,r=-2):(n=(2*(parseInt(t,10)||0)+1+100*s)%s,r=2),o=0;s>o;o+=2)l+=i[n-1]+","+i[n]+" ",n=(n+r)%s;return l},H=function(e,t){var r,n,a,o,i,s,l,u=0,c=parseFloat(e[0]),d=parseFloat(e[1]),p=c+","+d+" ",f=.999999;for(a=e.length,r=.5*t/(.5*a-1),n=0;a-2>n;n+=2){if(u+=r,s=parseFloat(e[n+2]),l=parseFloat(e[n+3]),u>f)for(i=1/(Math.floor(u)+1),o=1;u>f;)p+=(c+(s-c)*i*o).toFixed(2)+","+(d+(l-d)*i*o).toFixed(2)+" ",u--,o++;p+=s+","+l+" ",c=s,d=l}return p},C=function(e){var t=e[0].match(a)||[],r=e[1].match(a)||[],n=r.length-t.length;n>0?e[0]=H(t,n):e[1]=H(r,-n)},U=function(e){return isNaN(e)?C:function(t){C(t),t[1]=M(t[1],parseInt(e,10))}},L=function(e,t){var r=document.createElementNS("http://www.w3.org/2000/svg","path"),n=Array.prototype.slice.call(e.attributes),a=n.length;for(t=","+t+",";--a>-1;)-1===t.indexOf(","+n[a].nodeName+",")&&r.setAttributeNS(null,n[a].nodeName,n[a].nodeValue);return r},E=function(e,t){var r,n,o,i,s,l,u,c,d,p,f,h,g,y,v,S,b,m,I,x,T,w=e.tagName.toLowerCase(),A=.552284749831;return"path"!==w&&e.getBBox?(l=L(e,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),"rect"===w?(i=+e.getAttribute("rx")||0,s=+e.getAttribute("ry")||0,n=+e.getAttribute("x")||0,o=+e.getAttribute("y")||0,p=(+e.getAttribute("width")||0)-2*i,f=(+e.getAttribute("height")||0)-2*s,i||s?(h=n+i*(1-A),g=n+i,y=g+p,v=y+i*A,S=y+i,b=o+s*(1-A),m=o+s,I=m+f,x=I+s*A,T=I+s,r="M"+S+","+m+" V"+I+" C"+[S,x,v,T,y,T,y-(y-g)/3,T,g+(y-g)/3,T,g,T,h,T,n,x,n,I,n,I-(I-m)/3,n,m+(I-m)/3,n,m,n,b,h,o,g,o,g+(y-g)/3,o,y-(y-g)/3,o,y,o,v,o,S,b,S,m].join(",")+"z"):r="M"+(n+p)+","+o+" v"+f+" h"+-p+" v"+-f+" h"+p+"z"):"circle"===w||"ellipse"===w?("circle"===w?(i=s=+e.getAttribute("r")||0,c=i*A):(i=+e.getAttribute("rx")||0,s=+e.getAttribute("ry")||0,c=s*A),n=+e.getAttribute("cx")||0,o=+e.getAttribute("cy")||0,u=i*A,r="M"+(n+i)+","+o+" C"+[n+i,o+c,n+u,o+s,n,o+s,n-u,o+s,n-i,o+c,n-i,o,n-i,o-c,n-u,o-s,n,o-s,n+u,o-s,n+i,o-c,n+i,o].join(",")+"z"):"line"===w?r="M"+e.getAttribute("x1")+","+e.getAttribute("y1")+" L"+e.getAttribute("x2")+","+e.getAttribute("y2"):("polyline"===w||"polygon"===w)&&(d=(e.getAttribute("points")+"").match(a)||[],n=d.shift(),o=d.shift(),r="M"+n+","+o+" L"+d.join(","),"polygon"===w&&(r+=","+n+","+o+"z")),l.setAttribute("d",r),t&&e.parentNode&&(e.parentNode.insertBefore(l,e),e.parentNode.removeChild(e)),l):e},z=function(e,t){var r,n;return("string"!=typeof e||(e.match(a)||[]).length<3)&&(r=i.selector(e),r&&r[0]?(r=r[0],n=r.nodeName.toUpperCase(),t&&"PATH"!==n&&(r=E(r,!1),n="PATH"),e=r.getAttribute("PATH"===n?"d":"points")||""):(s("WARNING: invalid morph to: "+e),e=!1)),e},q="Use MorphSVGPlugin.convertToPath(elementOrSelectorText) to convert to a path before morphing.",B=r._gsDefine.plugin({propName:"morphSVG",API:2,global:!0,version:"0.3.0",init:function(e,t,r){var n,a,i,l,u;return"function"!=typeof e.setAttribute?!1:(n=e.nodeName.toUpperCase(),u="POLYLINE"===n||"POLYGON"===n,"PATH"===n||u?(a="PATH"===n?"d":"points",("string"==typeof t||t.getBBox)&&(t={shape:t}),l=z(t.shape||t.d||t.points||"","d"===a),u&&o.test(l)?(s("WARNING: a <"+n+"> cannot accept path data. "+q),!1):(l&&(this._target=e,i=this._addTween(e,"setAttribute",e.getAttribute(a)+"",l+"","morphSVG",!1,a,"d"===a?A(t.shapeIndex,t.map):U(t.shapeIndex)),i&&(this._overwriteProps.push("morphSVG"),i.end=l,i.endProp=a)),!0)):(s("WARNING: cannot morph a <"+n+"> SVG element. "+q),!1))},set:function(e){var t;if(this._super.setRatio.call(this,e),1===e)for(t=this._firstPT;t;)t.end&&this._target.setAttribute(t.endProp,t.end),t=t._next}});B.pathFilter=w,B.pointsFilter=C,B.subdivideRawBezier=d,B.pathDataToRawBezier=function(e){return c(z(e,!0))},B.equalizeSegmentQuantity=T,B.convertToPath=function(e,t){"string"==typeof e&&(e=i.selector(e));for(var r=e&&0!==e.length?e.length&&e[0]&&e[0].nodeType?Array.prototype.slice.call(e,0):[e]:[],n=r.length;--n>-1;)r[n]=E(r[n],t!==!1);return r},B.pathDataToBezier=function(e,t){var r,n,a,o,i,s,l=c(z(e,!0))[0]||[];if(t=t||{},o=t.matrix,r=[],a=l.length,o)for(t.relative&&(o=o.slice(0),o[4]-=l[0],o[5]-=l[1]),n=0;a>n;n+=2)r.push({x:l[n]*o[0]+l[n+1]*o[2]+o[4],y:l[n]*o[1]+l[n+1]*o[3]+o[5]});else for(i=t.offsetX||0,s=t.offsetY||0,t.relative&&(i-=l[0],s-=l[1]),n=0;a>n;n+=2)r.push({x:l[n]+i,y:l[n+1]+s});return r}}),r._gsDefine&&r._gsQueue.pop()()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,r){"use strict";!function(e,t){var r=e.History=e.History||{};if("undefined"!=typeof r.Adapter)throw new Error("History.js Adapter has already been loaded...");r.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=r.Adapter._uid++)},bind:function(e,t,n){var a=r.Adapter.uid(e);r.Adapter.handlers[a]=r.Adapter.handlers[a]||{},r.Adapter.handlers[a][t]=r.Adapter.handlers[a][t]||[],r.Adapter.handlers[a][t].push(n),e["on"+t]=function(e,t){return function(n){r.Adapter.trigger(e,t,n)}}(e,t)},trigger:function(e,t,n){n=n||{};var a,o,i=r.Adapter.uid(e);for(r.Adapter.handlers[i]=r.Adapter.handlers[i]||{},r.Adapter.handlers[i][t]=r.Adapter.handlers[i][t]||[],a=0,o=r.Adapter.handlers[i][t].length;o>a;++a)r.Adapter.handlers[i][t][a].apply(this,[n])},extractEventData:function(e,r){var n=r&&r[e]||t;return n},onDomLoad:function(t){var r=e.setTimeout(function(){t()},2e3);e.onload=function(){clearTimeout(r),t()}}},"undefined"!=typeof r.init&&r.init()}(window),function(e,t){var r=e.console||t,n=e.document,a=e.navigator,o=!1,i=e.setTimeout,s=e.clearTimeout,l=e.setInterval,u=e.clearInterval,c=e.JSON,d=e.alert,p=e.History=e.History||{},f=e.history;try{o=e.sessionStorage,o.setItem("TEST","1"),o.removeItem("TEST")}catch(h){o=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,"undefined"!=typeof p.init)throw new Error("History.js Core has already been loaded...");p.init=function(e){return"undefined"==typeof p.Adapter?!1:("undefined"!=typeof p.initCore&&p.initCore(),"undefined"!=typeof p.initHtml4&&p.initHtml4(),!0)},p.initCore=function(h){if("undefined"!=typeof p.initCore.initialized)return!1;if(p.initCore.initialized=!0,p.options=p.options||{},p.options.hashChangeInterval=p.options.hashChangeInterval||100,p.options.safariPollInterval=p.options.safariPollInterval||500,p.options.doubleCheckInterval=p.options.doubleCheckInterval||500,p.options.disableSuid=p.options.disableSuid||!1,p.options.storeInterval=p.options.storeInterval||1e3,p.options.busyDelay=p.options.busyDelay||250,p.options.debug=p.options.debug||!1,p.options.initialTitle=p.options.initialTitle||n.title,p.options.html4Mode=p.options.html4Mode||!1,p.options.delayInit=p.options.delayInit||!1,p.intervalList=[],p.clearAllIntervals=function(){var e,t=p.intervalList;if("undefined"!=typeof t&&null!==t){for(e=0;e<t.length;e++)u(t[e]);p.intervalList=null}},p.debug=function(){(p.options.debug||!1)&&p.log.apply(p,arguments)},p.log=function(){var e,t,a,o,i,s="undefined"!=typeof r&&"undefined"!=typeof r.log&&"undefined"!=typeof r.log.apply,l=n.getElementById("log");for(s?(o=Array.prototype.slice.call(arguments),e=o.shift(),"undefined"!=typeof r.debug?r.debug.apply(r,[e,o]):r.log.apply(r,[e,o])):e="\n"+arguments[0]+"\n",t=1,a=arguments.length;a>t;++t){if(i=arguments[t],"object"==typeof i&&"undefined"!=typeof c)try{i=c.stringify(i)}catch(u){}e+="\n"+i+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):s||d(e),!0},p.getInternetExplorerMajorVersion=function(){var e=p.getInternetExplorerMajorVersion.cached="undefined"!=typeof p.getInternetExplorerMajorVersion.cached?p.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=n.createElement("div"),r=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&r[0];);return e>4?e:!1}();return e},p.isInternetExplorer=function(){var e=p.isInternetExplorer.cached="undefined"!=typeof p.isInternetExplorer.cached?p.isInternetExplorer.cached:Boolean(p.getInternetExplorerMajorVersion());return e},p.emulated=p.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(a.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(a.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in n)||p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8)},p.enabled=!p.emulated.pushState,p.bugs={setHash:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),safariPoll:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),ieDoubleCheck:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<7)},p.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},p.cloneObject=function(e){var t,r;return e?(t=c.stringify(e),r=c.parse(t)):r={},r},p.getRootUrl=function(){var e=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(e+=":"+n.location.port),e+="/"},p.getBaseHref=function(){var e=n.getElementsByTagName("base"),t=null,r="";return 1===e.length&&(t=e[0],r=t.href.replace(/[^\/]+$/,"")),r=r.replace(/\/+$/,""),r&&(r+="/"),r},p.getBaseUrl=function(){var e=p.getBaseHref()||p.getBasePageUrl()||p.getRootUrl();return e},p.getPageUrl=function(){var e,t=p.getState(!1,!1),r=(t||{}).url||p.getLocationHref();return e=r.replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,r){return/\./.test(e)?e:e+"/"})},p.getBasePageUrl=function(){var e=p.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,r){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},p.getFullUrl=function(e,t){var r=e,n=e.substring(0,1);return t="undefined"==typeof t?!0:t,/[a-z]+\:\/\//.test(e)||(r="/"===n?p.getRootUrl()+e.replace(/^\/+/,""):"#"===n?p.getPageUrl().replace(/#.*/,"")+e:"?"===n?p.getPageUrl().replace(/[\?#].*/,"")+e:t?p.getBaseUrl()+e.replace(/^(\.\/)+/,""):p.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),r.replace(/\#$/,"")},p.getShortUrl=function(e){var t=e,r=p.getBaseUrl(),n=p.getRootUrl();return p.emulated.pushState&&(t=t.replace(r,"")),t=t.replace(n,"/"),p.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},p.getLocationHref=function(e){return e=e||n,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},p.store={},p.idToState=p.idToState||{},p.stateToId=p.stateToId||{},p.urlToId=p.urlToId||{},p.storedStates=p.storedStates||[],p.savedStates=p.savedStates||[],p.normalizeStore=function(){p.store.idToState=p.store.idToState||{},p.store.urlToId=p.store.urlToId||{},p.store.stateToId=p.store.stateToId||{}},p.getState=function(e,t){"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=!0);var r=p.getLastSavedState();return!r&&t&&(r=p.createStateObject()),e&&(r=p.cloneObject(r),r.url=r.cleanUrl||r.url),r},p.getIdByState=function(e){var t,r=p.extractId(e.url);if(!r)if(t=p.getStateString(e),"undefined"!=typeof p.stateToId[t])r=p.stateToId[t];else if("undefined"!=typeof p.store.stateToId[t])r=p.store.stateToId[t];else{for(;r=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof p.idToState[r]||"undefined"!=typeof p.store.idToState[r];);p.stateToId[t]=r,p.idToState[r]=e}return r},p.normalizeState=function(e){var t,r;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=p.getFullUrl(e.url?e.url:p.getLocationHref()),t.hash=p.getShortUrl(t.url),t.data=p.cloneObject(e.data),t.id=p.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,r=!p.isEmptyObject(t.data),(t.title||r)&&p.options.disableSuid!==!0&&(t.hash=p.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=p.getFullUrl(t.hash),(p.emulated.pushState||p.bugs.safariPoll)&&p.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},p.createStateObject=function(e,t,r){var n={data:e,title:t,url:r};return n=p.normalizeState(n)},p.getStateById=function(e){e=String(e);var r=p.idToState[e]||p.store.idToState[e]||t;return r},p.getStateString=function(e){var t,r,n;return t=p.normalizeState(e),r={data:t.data,title:e.title,url:e.url},n=c.stringify(r)},p.getStateId=function(e){var t,r;return t=p.normalizeState(e),r=t.id},p.getHashByState=function(e){var t,r;return t=p.normalizeState(e),r=t.hash},p.extractId=function(e){var t,r,n,a;return a=-1!=e.indexOf("#")?e.split("#")[0]:e,r=/(.*)\&_suid=([0-9]+)$/.exec(a),n=r?r[1]||e:e,t=r?String(r[2]||""):"",t||!1},p.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},p.extractState=function(e,t){var r,n,a=null;return t=t||!1,r=p.extractId(e),r&&(a=p.getStateById(r)),a||(n=p.getFullUrl(e),r=p.getIdByUrl(n)||!1,r&&(a=p.getStateById(r)),!a&&t&&!p.isTraditionalAnchor(e)&&(a=p.createStateObject(null,null,n))),a},p.getIdByUrl=function(e){var r=p.urlToId[e]||p.store.urlToId[e]||t;return r},p.getLastSavedState=function(){return p.savedStates[p.savedStates.length-1]||t},p.getLastStoredState=function(){return p.storedStates[p.storedStates.length-1]||t},p.hasUrlDuplicate=function(e){var t,r=!1;return t=p.extractState(e.url),r=t&&t.id!==e.id},p.storeState=function(e){return p.urlToId[e.url]=e.id,p.storedStates.push(p.cloneObject(e)),e},p.isLastSavedState=function(e){var t,r,n,a=!1;return p.savedStates.length&&(t=e.id,r=p.getLastSavedState(),n=r.id,a=t===n),a},p.saveState=function(e){return p.isLastSavedState(e)?!1:(p.savedStates.push(p.cloneObject(e)),!0)},p.getStateByIndex=function(e){var t=null;return t="undefined"==typeof e?p.savedStates[p.savedStates.length-1]:0>e?p.savedStates[p.savedStates.length+e]:p.savedStates[e]},p.getCurrentIndex=function(){var e=null;return e=p.savedStates.length<1?0:p.savedStates.length-1},p.getHash=function(e){var t,r=p.getLocationHref(e);return t=p.getHashByUrl(r)},p.unescapeHash=function(e){var t=p.normalizeHash(e);return t=decodeURIComponent(t)},p.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},p.setHash=function(e,t){var r,a;return t!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.setHash,args:arguments,queue:t}),!1):(p.busy(!0),r=p.extractState(e,!0),r&&!p.emulated.pushState?p.pushState(r.data,r.title,r.url,!1):p.getHash()!==e&&(p.bugs.setHash?(a=p.getPageUrl(),p.pushState(null,null,a+"#"+e,!1)):n.location.hash=e),p)},p.escapeHash=function(t){var r=p.normalizeHash(t);return r=e.encodeURIComponent(r),p.bugs.hashEscape||(r=r.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),r},p.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=p.unescapeHash(t)},p.setTitle=function(e){var t,r=e.title;r||(t=p.getStateByIndex(0),t&&t.url===e.url&&(r=t.title||p.options.initialTitle));try{n.getElementsByTagName("title")[0].innerHTML=r.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(a){}return n.title=r,p},p.queues=[],p.busy=function(e){if("undefined"!=typeof e?p.busy.flag=e:"undefined"==typeof p.busy.flag&&(p.busy.flag=!1),!p.busy.flag){s(p.busy.timeout);var t=function r(){var e,t,n;if(!p.busy.flag)for(e=p.queues.length-1;e>=0;--e)t=p.queues[e],0!==t.length&&(n=t.shift(),p.fireQueueItem(n),p.busy.timeout=i(r,p.options.busyDelay))};p.busy.timeout=i(t,p.options.busyDelay)}return p.busy.flag},p.busy.flag=!1,p.fireQueueItem=function(e){return e.callback.apply(e.scope||p,e.args||[])},p.pushQueue=function(e){return p.queues[e.queue||0]=p.queues[e.queue||0]||[],p.queues[e.queue||0].push(e),p},p.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof t&&(e.queue=t),p.busy()?p.pushQueue(e):p.fireQueueItem(e),p},p.clearQueue=function(){return p.busy.flag=!1,p.queues=[],p},p.stateChanged=!1,p.doubleChecker=!1,p.doubleCheckComplete=function(){return p.stateChanged=!0,p.doubleCheckClear(),p},p.doubleCheckClear=function(){return p.doubleChecker&&(s(p.doubleChecker),p.doubleChecker=!1),p},p.doubleCheck=function(e){return p.stateChanged=!1,p.doubleCheckClear(),p.bugs.ieDoubleCheck&&(p.doubleChecker=i(function(){return p.doubleCheckClear(),p.stateChanged||e(),!0},p.options.doubleCheckInterval)),p},p.safariStatePoll=function(){var t,r=p.extractState(p.getLocationHref());return p.isLastSavedState(r)?void 0:(t=r,t||(t=p.createStateObject()),p.Adapter.trigger(e,"popstate"),p)},p.back=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.back,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.back(!1)}),f.go(-1),!0)},p.forward=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.forward,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.forward(!1)}),f.go(1),!0)},p.go=function(e,t){var r;if(e>0)for(r=1;e>=r;++r)p.forward(t);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(r=-1;r>=e;--r)p.back(t)}return p},p.emulated.pushState){var g=function(){};p.pushState=p.pushState||g,p.replaceState=p.replaceState||g}else p.onPopState=function(t,r){var n,a,o=!1,i=!1;return p.doubleCheckComplete(),n=p.getHash(),n?(a=p.extractState(n||p.getLocationHref(),!0),a?p.replaceState(a.data,a.title,a.url,!1):(p.Adapter.trigger(e,"anchorchange"),p.busy(!1)),p.expectedStateId=!1,!1):(o=p.Adapter.extractEventData("state",t,r)||!1,i=o?p.getStateById(o):p.expectedStateId?p.getStateById(p.expectedStateId):p.extractState(p.getLocationHref()),i||(i=p.createStateObject(null,null,p.getLocationHref())),p.expectedStateId=!1,p.isLastSavedState(i)?(p.busy(!1),!1):(p.storeState(i),p.saveState(i),p.setTitle(i),p.Adapter.trigger(e,"statechange"),p.busy(!1),!0))},p.Adapter.bind(e,"popstate",p.onPopState),p.pushState=function(t,r,n,a){if(p.getHashByUrl(n)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.pushState,args:arguments,queue:a}),!1;p.busy(!0);var o=p.createStateObject(t,r,n);return p.isLastSavedState(o)?p.busy(!1):(p.storeState(o),p.expectedStateId=o.id,f.pushState(o.id,o.title,o.url),p.Adapter.trigger(e,"popstate")),!0},p.replaceState=function(t,r,n,a){if(p.getHashByUrl(n)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.replaceState,args:arguments,queue:a}),!1;p.busy(!0);var o=p.createStateObject(t,r,n);return p.isLastSavedState(o)?p.busy(!1):(p.storeState(o),p.expectedStateId=o.id,f.replaceState(o.id,o.title,o.url),p.Adapter.trigger(e,"popstate")),!0};if(o){try{p.store=c.parse(o.getItem("History.store"))||{}}catch(y){p.store={}}p.normalizeStore()}else p.store={},p.normalizeStore();p.Adapter.bind(e,"unload",p.clearAllIntervals),p.saveState(p.storeState(p.extractState(p.getLocationHref(),!0))),o&&(p.onUnload=function(){var e,t,r;try{e=c.parse(o.getItem("History.store"))||{}}catch(n){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in p.idToState)p.idToState.hasOwnProperty(t)&&(e.idToState[t]=p.idToState[t]);for(t in p.urlToId)p.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=p.urlToId[t]);for(t in p.stateToId)p.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=p.stateToId[t]);p.store=e,p.normalizeStore(),r=c.stringify(e);try{o.setItem("History.store",r)}catch(a){if(a.code!==DOMException.QUOTA_EXCEEDED_ERR)throw a;o.length&&(o.removeItem("History.store"),o.setItem("History.store",r))}},p.intervalList.push(l(p.onUnload,p.options.storeInterval)),p.Adapter.bind(e,"beforeunload",p.onUnload),p.Adapter.bind(e,"unload",p.onUnload)),p.emulated.pushState||(p.bugs.safariPoll&&p.intervalList.push(l(p.safariStatePoll,p.options.safariPollInterval)),("Apple Computer, Inc."===a.vendor||"Mozilla"===(a.appCodeName||""))&&(p.Adapter.bind(e,"hashchange",function(){p.Adapter.trigger(e,"popstate")}),p.getHash()&&p.Adapter.onDomLoad(function(){p.Adapter.trigger(e,"hashchange")})))},(!p.options||!p.options.delayInit)&&p.init()}(window)},{}]},{},[1]);
//# sourceMappingURL=../maps/bundle.min.js.map