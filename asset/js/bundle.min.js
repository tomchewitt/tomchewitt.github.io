!function e(t,r,n){function a(i,s){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(o)return o(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[i]={exports:{}};t[i][0].call(c.exports,function(e){var r=t[i][1][e];return a(r?r:e)},c,c.exports,e,t,r,n)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(e,t,r){"use strict";e("./modules/MorphSVGPlugin.min.js"),e("./modules/native.history.js"),function(){function e(){var e=document.querySelector(".video"),t=document.querySelector(".video-play");null!=e&&(e.controls=!1,e.loop=!1,t.onclick=function(){t.classList.add("JS_off"),e.play()},e.onended=function(e){t.classList.remove("JS_off")})}function t(){if(n=document.querySelector(".post-header-content"),a=document.querySelector(".page-header"),o=document.querySelector(".post-header-wrap .gradient"),null!=n){n.clientHeight;n.style.top=(400-n.clientHeight)/2+"px"}}function r(){i=document.querySelectorAll("a");for(var e=0;e<i.length;e++){var t=new RegExp("/"+window.location.host+"/");t.test(i[e].href)||(i[e].onclick=function(e){e.preventDefault();var t=this.href;if(this.href.indexOf("https://twitter.com/intent")>-1){var r=document.title.split(" | Tom Does Digital");r=encodeURIComponent(r),t="https://twitter.com/intent/tweet?text="+r+"&url="+window.location.href+"&via=tomchewitt"}window.open(t,"_blank")})}}var n,a,o,i,s=160,l=400,u=document.querySelector(".hamburger"),c=document.querySelector(".sidebar"),d=!1;r(),t(),e(),setInterval(function(){if(d){var e=window.pageYOffset,t=e/l/2.2+.8,r=1-e/s;if(null!=a&&s>=e&&(a.style.opacity=r),null!=o&&l>=e&&(o.style.opacity=t),null!=n){var i=(380-n.clientHeight)/2-10,u=window.innerWidth;u>789?e>=i?(n.style.top="auto",n.style.bottom="60px",n.style.position="absolute",n.style.left="12.5%",n.style.width="75%"):(n.style.top=(400-n.clientHeight)/2+"px",n.style.bottom="auto",n.style.position="fixed",n.style.left="30%",n.style.width="60%"):(n.style.position="absolute",n.style.left="12.5%",n.style.width="75%")}d=!1}},30),window.onscroll=function(){d=!0},u.addEventListener("click",function(){c.classList.toggle("JS_on")})}()},{"./modules/MorphSVGPlugin.min.js":2,"./modules/native.history.js":3}],2:[function(e,t,r){(function(e){"use strict";var r="undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:window;(r._gsQueue||(r._gsQueue=[])).push(function(){var e=Math.PI/180,t=180/Math.PI,n=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,a=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,o=/[achlmqstvz]/gi,i=r.TweenLite,s=function(e){window.console},l=function j(t,r){var n,a,o,i,j,s,l=Math.ceil(Math.abs(r)/90),u=0,c=[];for(t*=e,r*=e,n=r/l,a=4/3*Math.sin(n/2)/(1+Math.cos(n/2)),s=0;l>s;s++)o=t+s*n,i=Math.cos(o),j=Math.sin(o),c[u++]=i-a*j,c[u++]=j+a*i,o+=n,i=Math.cos(o),j=Math.sin(o),c[u++]=i+a*j,c[u++]=j-a*i,c[u++]=i,c[u++]=j;return c},u=function(r,n,a,o,i,s,u,c,d){if(r!==c||n!==d){a=Math.abs(a),o=Math.abs(o);var f=i%360*e,h=Math.cos(f),p=Math.sin(f),g=(r-c)/2,y=(n-d)/2,v=h*g+p*y,S=-p*g+h*y,b=a*a,m=o*o,I=v*v,A=S*S,T=I/b+A/m;T>1&&(a=Math.sqrt(T)*a,o=Math.sqrt(T)*o,b=a*a,m=o*o);var x=s===u?-1:1,w=(b*m-b*A-m*I)/(b*A+m*I);0>w&&(w=0);var M=x*Math.sqrt(w),H=M*(a*S/o),C=M*-(o*v/a),U=(r+c)/2,E=(n+d)/2,L=U+(h*H-p*C),B=E+(p*H+h*C),P=(v-H)/a,q=(S-C)/o,j=(-v-H)/a,z=(-S-C)/o,O=Math.sqrt(P*P+q*q),k=P;x=0>q?-1:1;var N=x*Math.acos(k/O)*t;O=Math.sqrt((P*P+q*q)*(j*j+z*z)),k=P*j+q*z,x=0>P*z-q*j?-1:1;var _=x*Math.acos(k/O)*t;!u&&_>0?_-=360:u&&0>_&&(_+=360),_%=360,N%=360;var D,R,V,Q=l(N,_),F=h*a,G=p*a,$=p*-o,Y=h*o,W=Q.length-2;for(D=0;W>D;D+=2)R=Q[D],V=Q[D+1],Q[D]=R*F+V*$+L,Q[D+1]=R*G+V*Y+B;return Q[Q.length-2]=c,Q[Q.length-1]=d,Q}},c=function z(e){var t,r,a,o,i,z,l,c,d,f,h,p,g,y=(e+"").match(n)||[],v=[],S=0,b=0,m=y.length,I=2,A=0;if(!e||!isNaN(y[0])||isNaN(y[1]))return s("ERROR: malformed path data: "+e),v;for(t=0;m>t;t++)if(g=i,isNaN(y[t])?(i=y[t].toUpperCase(),z=i!==y[t]):t--,a=+y[t+1],o=+y[t+2],z&&(a+=S,o+=b),0===t&&(c=a,d=o),"M"===i)S=c=a,b=d=o,l=[a,o],A+=I,I=2,v.push(l),t+=2;else if("C"===i)l||(l=[0,0]),l[I++]=a,l[I++]=o,z||(S=b=0),l[I++]=S+1*y[t+3],l[I++]=b+1*y[t+4],l[I++]=S+=1*y[t+5],l[I++]=b+=1*y[t+6],t+=6;else if("S"===i)"C"===g||"S"===g?(f=S-l[I-4],h=b-l[I-3],l[I++]=S+f,l[I++]=b+h):(l[I++]=S,l[I++]=b),l[I++]=a,l[I++]=o,z||(S=b=0),l[I++]=S+=1*y[t+3],l[I++]=b+=1*y[t+4],t+=4;else if("Q"===i)f=a-S,h=o-b,l[I++]=S+2*f/3,l[I++]=b+2*h/3,z||(S=b=0),S+=1*y[t+3],b+=1*y[t+4],f=a-S,h=o-b,l[I++]=S+2*f/3,l[I++]=b+2*h/3,l[I++]=S,l[I++]=b,t+=4;else if("T"===i)f=S-l[I-4],h=b-l[I-3],l[I++]=S+f,l[I++]=b+h,f=S+1.5*f-a,h=b+1.5*h-o,l[I++]=a+2*f/3,l[I++]=o+2*h/3,l[I++]=S=a,l[I++]=b=o,t+=2;else if("H"===i)o=b,l[I++]=S+(a-S)/3,l[I++]=b+(o-b)/3,l[I++]=S+2*(a-S)/3,l[I++]=b+2*(o-b)/3,l[I++]=S=a,l[I++]=o,t+=1;else if("V"===i)o=a,a=S,z&&(o+=b-S),l[I++]=a,l[I++]=b+(o-b)/3,l[I++]=a,l[I++]=b+2*(o-b)/3,l[I++]=a,l[I++]=b=o,t+=1;else if("L"===i)l[I++]=S+(a-S)/3,l[I++]=b+(o-b)/3,l[I++]=S+2*(a-S)/3,l[I++]=b+2*(o-b)/3,l[I++]=S=a,l[I++]=b=o,t+=2;else if("Z"===i)S=c,b=d,l.closed=!0;else if("A"===i){for(p=u(S,b,1*y[t+1],1*y[t+2],1*y[t+3],1*y[t+4],1*y[t+5],(z?S:0)+1*y[t+6],(z?b:0)+1*y[t+7]),r=0;r<p.length;r++)l[I++]=p[r];S=l[I-2],b=l[I-1],t+=7}else s("Error: malformed path data: "+e);return v.totalPoints=A+I,v},d=function O(e,t){var r,n,a,o,i,s,l,u,O,c,d,f,h,p,g=0,y=.999999,v=e.length,S=t/((v-2)/6);for(h=2;v>h;h+=6)for(g+=S;g>y;)r=e[h-2],n=e[h-1],a=e[h],o=e[h+1],i=e[h+2],s=e[h+3],l=e[h+4],u=e[h+5],p=1/(Math.floor(g)+1),O=r+(a-r)*p,d=a+(i-a)*p,O+=(d-O)*p,d+=(i+(l-i)*p-d)*p,c=n+(o-n)*p,f=o+(s-o)*p,c+=(f-c)*p,f+=(s+(u-s)*p-f)*p,e.splice(h,4,r+(a-r)*p,n+(o-n)*p,O,c,O+(d-O)*p,c+(f-c)*p,d,f,i+(l-i)*p,s+(u-s)*p),h+=6,v+=6,g--;return e},f=function(e){var t,r,n,a,o="",i=e.length,s=100;for(r=0;i>r;r++){for(a=e[r],o+="M"+a[0]+","+a[1]+" C",t=a.length,n=2;t>n;n++)o+=(a[n++]*s|0)/s+","+(a[n++]*s|0)/s+" "+(a[n++]*s|0)/s+","+(a[n++]*s|0)/s+" "+(a[n++]*s|0)/s+","+(a[n]*s|0)/s+" ";a.closed&&(o+="z")}return o},h=function(e){for(var t=[],r=e.length-1,n=0;--r>-1;)t[n++]=e[r],t[n++]=e[r+1],r--;for(r=0;n>r;r++)e[r]=t[r];e.reversed=e.reversed?!1:!0},p=function(e){var t,r=e.length,n=0,a=0;for(t=0;r>t;t++)n+=e[t++],a+=e[t];return[n/(r/2),a/(r/2)]},g=function(e){var t,r,n,a=e.length,o=e[0],i=o,s=e[1],l=s;for(n=6;a>n;n+=6)t=e[n],r=e[n+1],t>o?o=t:i>t&&(i=t),r>s?s=r:l>r&&(l=r);return e.centerX=(o+i)/2,e.centerY=(s-l)/2,e.size=(o-i)*(s-l)},y=function(e,t){return t.length-e.length},v=function(e,t){var r=e.size||g(e),n=t.size||g(t);return Math.abs(n-r)<(r+n)/20?t.centerX-e.centerX||t.centerY-e.centerY:n-r},S=function(e,t){var r,n,a=e.slice(0),o=e.length,i=o-2;for(t=0|t,r=0;o>r;r++)n=(r+t)%i,e[r++]=a[n],e[r]=a[n+1]},b=function(e,t,r,n,a){var o,i,s,l,u=e.length,c=0,d=u-2;for(r*=6,i=0;u>i;i+=6)o=(i+r)%d,l=e[o]-(t[i]-n),s=e[o+1]-(t[i+1]-a),c+=Math.sqrt(s*s+l*l);return c},m=function(e,t,r){var n,a,o,i=e.length,s=p(e),l=p(t),u=l[0]-s[0],c=l[1]-s[1],d=b(e,t,0,u,c),f=0;for(o=6;i>o;o+=6)a=b(e,t,o/6,u,c),d>a&&(d=a,f=o);if(r)for(n=e.slice(0),h(n),o=6;i>o;o+=6)a=b(n,t,o/6,u,c),d>a&&(d=a,f=-o);return f/6},I=function(e,t,r){var n,a,o,i,s=e.length,l=99999999999,u=0;for(i=0;s>i;i+=6)n=e[i]-t,a=e[i+1]-r,o=Math.sqrt(n*n+a*a),l>o&&(l=o,u=i);return u},A=function(e,t,r){var n,a,o,i,s=t.length,l=0,u=.8*(t[r].size||g(t[r])),c=999999999999,d=e.size||g(e),f=e.centerX,h=e.centerY;for(n=r;s>n&&(d=t[n].size||g(t[n]),!(u>d));n++)a=t[n].centerX-f,o=t[n].centerY-h,i=Math.sqrt(a*a+o*o),c>i&&(l=n,c=i);return i=t[l],t.splice(l,1),i},T=function k(e,t,r,n){var a,o,i,s,l,u=t.length-e.length,c=u>0?t:e,f=u>0?e:t,p=0,g="complexity"===n?y:v,k=f.length,b="object"==typeof r&&r.push?r.slice(0):[r],T="reverse"===b[0]||b[0]<0;if(f[0]){if(u){if(0>u&&(u=-u),e.sort(g),t.sort(g),g===v)for(k=0;k<f.length;k++)c.splice(k,0,A(f[k],c,k));for(c[0].length>f[0].length&&d(f[0],(c[0].length-f[0].length)/6|0),k=f.length;u>p;)i=I(f[0],c[k][0],c[k][1]),s=f[0][i],l=f[0][i+1],f[k++]=[s,l,s,l,s,l,s,l],f.totalPoints+=8,p++}for(k=0;k<e.length;k++)a=t[k],o=e[k],u=a.length-o.length,0>u?d(a,-u/6|0):u>0&&d(o,u/6|0),T&&!o.reversed&&h(o),r=b[k]||0===b[k]?b[k]:"auto",r&&(Math.abs(o[0]-o[o.length-2])<.5&&Math.abs(o[1]-o[o.length-1])<.5?"auto"===r?(b[k]=r=m(o,a,0===k),0>r&&(T=!0,h(o),r=-r),S(o,6*r)):"reverse"!==r&&(k&&0>r&&h(o),S(o,6*(0>r?-r:r))):!T&&("auto"===r&&Math.abs(a[0]-o[0])+Math.abs(a[1]-o[1])+Math.abs(a[a.length-2]-o[o.length-2])+Math.abs(a[a.length-1]-o[o.length-1])>Math.abs(a[0]-o[o.length-2])+Math.abs(a[1]-o[o.length-1])+Math.abs(a[a.length-2]-o[0])+Math.abs(a[a.length-1]-o[1])||r%2)?(h(o),b[k]=-1,T=!0):"auto"===r?b[k]=0:"reverse"===r&&(b[k]=-1));return b}},x=function(e,t,r){var n=c(e[0]),a=c(e[1]);T(n,a,t||0===t?t:"auto",r)&&(e[0]=f(n),e[1]=f(a))},w=function(e,t){return t||e||0===e?function(r){x(r,e,t)}:x},M=function(e,t){if(!t)return e;var r,n,o,i=e.match(a)||[],s=i.length,l="";for("reverse"===t?(n=s-1,r=-2):(n=(2*(parseInt(t,10)||0)+1+100*s)%s,r=2),o=0;s>o;o+=2)l+=i[n-1]+","+i[n]+" ",n=(n+r)%s;return l},H=function(e,t){var r,n,a,o,i,s,l,u=0,c=parseFloat(e[0]),d=parseFloat(e[1]),f=c+","+d+" ",h=.999999;for(a=e.length,r=.5*t/(.5*a-1),n=0;a-2>n;n+=2){if(u+=r,s=parseFloat(e[n+2]),l=parseFloat(e[n+3]),u>h)for(i=1/(Math.floor(u)+1),o=1;u>h;)f+=(c+(s-c)*i*o).toFixed(2)+","+(d+(l-d)*i*o).toFixed(2)+" ",u--,o++;f+=s+","+l+" ",c=s,d=l}return f},C=function(e){var t=e[0].match(a)||[],r=e[1].match(a)||[],n=r.length-t.length;n>0?e[0]=H(t,n):e[1]=H(r,-n)},U=function(e){return isNaN(e)?C:function(t){C(t),t[1]=M(t[1],parseInt(e,10))}},E=function(e,t){var r=document.createElementNS("http://www.w3.org/2000/svg","path"),n=Array.prototype.slice.call(e.attributes),a=n.length;for(t=","+t+",";--a>-1;)-1===t.indexOf(","+n[a].nodeName+",")&&r.setAttributeNS(null,n[a].nodeName,n[a].nodeValue);return r},L=function(e,t){var r,n,o,i,s,l,u,c,d,f,h,p,g,y,v,S,b,m,I,A,T,x=e.tagName.toLowerCase(),w=.552284749831;return"path"!==x&&e.getBBox?(l=E(e,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),"rect"===x?(i=+e.getAttribute("rx")||0,s=+e.getAttribute("ry")||0,n=+e.getAttribute("x")||0,o=+e.getAttribute("y")||0,f=(+e.getAttribute("width")||0)-2*i,h=(+e.getAttribute("height")||0)-2*s,i||s?(p=n+i*(1-w),g=n+i,y=g+f,v=y+i*w,S=y+i,b=o+s*(1-w),m=o+s,I=m+h,A=I+s*w,T=I+s,r="M"+S+","+m+" V"+I+" C"+[S,A,v,T,y,T,y-(y-g)/3,T,g+(y-g)/3,T,g,T,p,T,n,A,n,I,n,I-(I-m)/3,n,m+(I-m)/3,n,m,n,b,p,o,g,o,g+(y-g)/3,o,y-(y-g)/3,o,y,o,v,o,S,b,S,m].join(",")+"z"):r="M"+(n+f)+","+o+" v"+h+" h"+-f+" v"+-h+" h"+f+"z"):"circle"===x||"ellipse"===x?("circle"===x?(i=s=+e.getAttribute("r")||0,c=i*w):(i=+e.getAttribute("rx")||0,s=+e.getAttribute("ry")||0,c=s*w),n=+e.getAttribute("cx")||0,o=+e.getAttribute("cy")||0,u=i*w,r="M"+(n+i)+","+o+" C"+[n+i,o+c,n+u,o+s,n,o+s,n-u,o+s,n-i,o+c,n-i,o,n-i,o-c,n-u,o-s,n,o-s,n+u,o-s,n+i,o-c,n+i,o].join(",")+"z"):"line"===x?r="M"+e.getAttribute("x1")+","+e.getAttribute("y1")+" L"+e.getAttribute("x2")+","+e.getAttribute("y2"):("polyline"===x||"polygon"===x)&&(d=(e.getAttribute("points")+"").match(a)||[],n=d.shift(),o=d.shift(),r="M"+n+","+o+" L"+d.join(","),"polygon"===x&&(r+=","+n+","+o+"z")),l.setAttribute("d",r),t&&e.parentNode&&(e.parentNode.insertBefore(l,e),e.parentNode.removeChild(e)),l):e},B=function(e,t){var r,n;return("string"!=typeof e||(e.match(a)||[]).length<3)&&(r=i.selector(e),r&&r[0]?(r=r[0],n=r.nodeName.toUpperCase(),t&&"PATH"!==n&&(r=L(r,!1),n="PATH"),e=r.getAttribute("PATH"===n?"d":"points")||""):(s("WARNING: invalid morph to: "+e),e=!1)),e},P="Use MorphSVGPlugin.convertToPath(elementOrSelectorText) to convert to a path before morphing.",q=r._gsDefine.plugin({propName:"morphSVG",API:2,global:!0,version:"0.3.0",init:function(e,t,r){var n,a,i,l,u;return"function"!=typeof e.setAttribute?!1:(n=e.nodeName.toUpperCase(),u="POLYLINE"===n||"POLYGON"===n,"PATH"===n||u?(a="PATH"===n?"d":"points",("string"==typeof t||t.getBBox)&&(t={shape:t}),l=B(t.shape||t.d||t.points||"","d"===a),u&&o.test(l)?(s("WARNING: a <"+n+"> cannot accept path data. "+P),!1):(l&&(this._target=e,i=this._addTween(e,"setAttribute",e.getAttribute(a)+"",l+"","morphSVG",!1,a,"d"===a?w(t.shapeIndex,t.map):U(t.shapeIndex)),i&&(this._overwriteProps.push("morphSVG"),i.end=l,i.endProp=a)),!0)):(s("WARNING: cannot morph a <"+n+"> SVG element. "+P),!1))},set:function(e){var t;if(this._super.setRatio.call(this,e),1===e)for(t=this._firstPT;t;)t.end&&this._target.setAttribute(t.endProp,t.end),t=t._next}});q.pathFilter=x,q.pointsFilter=C,q.subdivideRawBezier=d,q.pathDataToRawBezier=function(e){return c(B(e,!0))},q.equalizeSegmentQuantity=T,q.convertToPath=function(e,t){"string"==typeof e&&(e=i.selector(e));for(var r=e&&0!==e.length?e.length&&e[0]&&e[0].nodeType?Array.prototype.slice.call(e,0):[e]:[],n=r.length;--n>-1;)r[n]=L(r[n],t!==!1);return r},q.pathDataToBezier=function(e,t){var r,n,a,o,i,s,l=c(B(e,!0))[0]||[];if(t=t||{},o=t.matrix,r=[],a=l.length,o)for(t.relative&&(o=o.slice(0),o[4]-=l[0],o[5]-=l[1]),n=0;a>n;n+=2)r.push({x:l[n]*o[0]+l[n+1]*o[2]+o[4],y:l[n]*o[1]+l[n+1]*o[3]+o[5]});else for(i=t.offsetX||0,s=t.offsetY||0,t.relative&&(i-=l[0],s-=l[1]),n=0;a>n;n+=2)r.push({x:l[n]+i,y:l[n+1]+s});return r}}),r._gsDefine&&r._gsQueue.pop()()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,r){"use strict";!function(e,t){var r=e.History=e.History||{};if("undefined"!=typeof r.Adapter)throw new Error("History.js Adapter has already been loaded...");r.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=r.Adapter._uid++)},bind:function(e,t,n){var a=r.Adapter.uid(e);r.Adapter.handlers[a]=r.Adapter.handlers[a]||{},r.Adapter.handlers[a][t]=r.Adapter.handlers[a][t]||[],r.Adapter.handlers[a][t].push(n),e["on"+t]=function(e,t){return function(n){r.Adapter.trigger(e,t,n)}}(e,t)},trigger:function(e,t,n){n=n||{};var a,o,i=r.Adapter.uid(e);for(r.Adapter.handlers[i]=r.Adapter.handlers[i]||{},r.Adapter.handlers[i][t]=r.Adapter.handlers[i][t]||[],a=0,o=r.Adapter.handlers[i][t].length;o>a;++a)r.Adapter.handlers[i][t][a].apply(this,[n])},extractEventData:function(e,r){var n=r&&r[e]||t;return n},onDomLoad:function(t){var r=e.setTimeout(function(){t()},2e3);e.onload=function(){clearTimeout(r),t()}}},"undefined"!=typeof r.init&&r.init()}(window),function(e,t){var r=e.console||t,n=e.document,a=e.navigator,o=!1,i=e.setTimeout,s=e.clearTimeout,l=e.setInterval,u=e.clearInterval,c=e.JSON,d=e.alert,f=e.History=e.History||{},h=e.history;try{o=e.sessionStorage,o.setItem("TEST","1"),o.removeItem("TEST")}catch(p){o=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,"undefined"!=typeof f.init)throw new Error("History.js Core has already been loaded...");f.init=function(e){return"undefined"==typeof f.Adapter?!1:("undefined"!=typeof f.initCore&&f.initCore(),"undefined"!=typeof f.initHtml4&&f.initHtml4(),!0)},f.initCore=function(p){if("undefined"!=typeof f.initCore.initialized)return!1;if(f.initCore.initialized=!0,f.options=f.options||{},f.options.hashChangeInterval=f.options.hashChangeInterval||100,f.options.safariPollInterval=f.options.safariPollInterval||500,f.options.doubleCheckInterval=f.options.doubleCheckInterval||500,f.options.disableSuid=f.options.disableSuid||!1,f.options.storeInterval=f.options.storeInterval||1e3,f.options.busyDelay=f.options.busyDelay||250,f.options.debug=f.options.debug||!1,f.options.initialTitle=f.options.initialTitle||n.title,f.options.html4Mode=f.options.html4Mode||!1,f.options.delayInit=f.options.delayInit||!1,f.intervalList=[],f.clearAllIntervals=function(){var e,t=f.intervalList;if("undefined"!=typeof t&&null!==t){for(e=0;e<t.length;e++)u(t[e]);f.intervalList=null}},f.debug=function(){(f.options.debug||!1)&&f.log.apply(f,arguments)},f.log=function(){var e,t,a,o,i,s="undefined"!=typeof r&&"undefined"!=typeof r.log&&"undefined"!=typeof r.log.apply,l=n.getElementById("log");for(s?(o=Array.prototype.slice.call(arguments),e=o.shift(),"undefined"!=typeof r.debug?r.debug.apply(r,[e,o]):r.log.apply(r,[e,o])):e="\n"+arguments[0]+"\n",t=1,a=arguments.length;a>t;++t){if(i=arguments[t],"object"==typeof i&&"undefined"!=typeof c)try{i=c.stringify(i)}catch(u){}e+="\n"+i+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):s||d(e),!0},f.getInternetExplorerMajorVersion=function(){var e=f.getInternetExplorerMajorVersion.cached="undefined"!=typeof f.getInternetExplorerMajorVersion.cached?f.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=n.createElement("div"),r=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&r[0];);return e>4?e:!1}();return e},f.isInternetExplorer=function(){var e=f.isInternetExplorer.cached="undefined"!=typeof f.isInternetExplorer.cached?f.isInternetExplorer.cached:Boolean(f.getInternetExplorerMajorVersion());return e},f.options.html4Mode?f.emulated={pushState:!0,hashChange:!0}:f.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(a.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(a.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in n)||f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<8)},f.enabled=!f.emulated.pushState,f.bugs={setHash:Boolean(!f.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),safariPoll:Boolean(!f.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),ieDoubleCheck:Boolean(f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<7)},f.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},f.cloneObject=function(e){var t,r;return e?(t=c.stringify(e),r=c.parse(t)):r={},r},f.getRootUrl=function(){var e=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(e+=":"+n.location.port),e+="/"},f.getBaseHref=function(){var e=n.getElementsByTagName("base"),t=null,r="";return 1===e.length&&(t=e[0],r=t.href.replace(/[^\/]+$/,"")),r=r.replace(/\/+$/,""),r&&(r+="/"),r},f.getBaseUrl=function(){var e=f.getBaseHref()||f.getBasePageUrl()||f.getRootUrl();return e},f.getPageUrl=function(){var e,t=f.getState(!1,!1),r=(t||{}).url||f.getLocationHref();return e=r.replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,r){return/\./.test(e)?e:e+"/"})},f.getBasePageUrl=function(){var e=f.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,r){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},f.getFullUrl=function(e,t){var r=e,n=e.substring(0,1);return t="undefined"==typeof t?!0:t,/[a-z]+\:\/\//.test(e)||(r="/"===n?f.getRootUrl()+e.replace(/^\/+/,""):"#"===n?f.getPageUrl().replace(/#.*/,"")+e:"?"===n?f.getPageUrl().replace(/[\?#].*/,"")+e:t?f.getBaseUrl()+e.replace(/^(\.\/)+/,""):f.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),r.replace(/\#$/,"")},f.getShortUrl=function(e){var t=e,r=f.getBaseUrl(),n=f.getRootUrl();return f.emulated.pushState&&(t=t.replace(r,"")),t=t.replace(n,"/"),f.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},f.getLocationHref=function(e){return e=e||n,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},f.store={},f.idToState=f.idToState||{},f.stateToId=f.stateToId||{},f.urlToId=f.urlToId||{},f.storedStates=f.storedStates||[],f.savedStates=f.savedStates||[],f.normalizeStore=function(){f.store.idToState=f.store.idToState||{},f.store.urlToId=f.store.urlToId||{},f.store.stateToId=f.store.stateToId||{}},f.getState=function(e,t){"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=!0);var r=f.getLastSavedState();return!r&&t&&(r=f.createStateObject()),e&&(r=f.cloneObject(r),r.url=r.cleanUrl||r.url),r},f.getIdByState=function(e){var t,r=f.extractId(e.url);if(!r)if(t=f.getStateString(e),"undefined"!=typeof f.stateToId[t])r=f.stateToId[t];else if("undefined"!=typeof f.store.stateToId[t])r=f.store.stateToId[t];else{for(;r=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof f.idToState[r]||"undefined"!=typeof f.store.idToState[r];);f.stateToId[t]=r,f.idToState[r]=e}return r},f.normalizeState=function(e){var t,r;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=f.getFullUrl(e.url?e.url:f.getLocationHref()),t.hash=f.getShortUrl(t.url),t.data=f.cloneObject(e.data),t.id=f.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,r=!f.isEmptyObject(t.data),(t.title||r)&&f.options.disableSuid!==!0&&(t.hash=f.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=f.getFullUrl(t.hash),(f.emulated.pushState||f.bugs.safariPoll)&&f.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},f.createStateObject=function(e,t,r){var n={data:e,title:t,url:r};return n=f.normalizeState(n)},f.getStateById=function(e){e=String(e);var r=f.idToState[e]||f.store.idToState[e]||t;return r},f.getStateString=function(e){var t,r,n;return t=f.normalizeState(e),r={data:t.data,title:e.title,url:e.url},n=c.stringify(r)},f.getStateId=function(e){var t,r;return t=f.normalizeState(e),r=t.id},f.getHashByState=function(e){var t,r;return t=f.normalizeState(e),r=t.hash},f.extractId=function(e){var t,r,n,a;return a=-1!=e.indexOf("#")?e.split("#")[0]:e,r=/(.*)\&_suid=([0-9]+)$/.exec(a),n=r?r[1]||e:e,t=r?String(r[2]||""):"",t||!1},f.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},f.extractState=function(e,t){var r,n,a=null;return t=t||!1,r=f.extractId(e),r&&(a=f.getStateById(r)),a||(n=f.getFullUrl(e),r=f.getIdByUrl(n)||!1,r&&(a=f.getStateById(r)),!a&&t&&!f.isTraditionalAnchor(e)&&(a=f.createStateObject(null,null,n))),a},f.getIdByUrl=function(e){var r=f.urlToId[e]||f.store.urlToId[e]||t;return r},f.getLastSavedState=function(){return f.savedStates[f.savedStates.length-1]||t},f.getLastStoredState=function(){return f.storedStates[f.storedStates.length-1]||t},f.hasUrlDuplicate=function(e){var t,r=!1;return t=f.extractState(e.url),r=t&&t.id!==e.id},f.storeState=function(e){return f.urlToId[e.url]=e.id,f.storedStates.push(f.cloneObject(e)),e},f.isLastSavedState=function(e){var t,r,n,a=!1;return f.savedStates.length&&(t=e.id,r=f.getLastSavedState(),n=r.id,a=t===n),a},f.saveState=function(e){return f.isLastSavedState(e)?!1:(f.savedStates.push(f.cloneObject(e)),!0)},f.getStateByIndex=function(e){var t=null;return t="undefined"==typeof e?f.savedStates[f.savedStates.length-1]:0>e?f.savedStates[f.savedStates.length+e]:f.savedStates[e]},f.getCurrentIndex=function(){var e=null;return e=f.savedStates.length<1?0:f.savedStates.length-1},f.getHash=function(e){var t,r=f.getLocationHref(e);return t=f.getHashByUrl(r)},f.unescapeHash=function(e){var t=f.normalizeHash(e);return t=decodeURIComponent(t)},f.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},f.setHash=function(e,t){var r,a;return t!==!1&&f.busy()?(f.pushQueue({scope:f,callback:f.setHash,args:arguments,queue:t}),!1):(f.busy(!0),r=f.extractState(e,!0),r&&!f.emulated.pushState?f.pushState(r.data,r.title,r.url,!1):f.getHash()!==e&&(f.bugs.setHash?(a=f.getPageUrl(),f.pushState(null,null,a+"#"+e,!1)):n.location.hash=e),f)},f.escapeHash=function(t){var r=f.normalizeHash(t);return r=e.encodeURIComponent(r),f.bugs.hashEscape||(r=r.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),r},f.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=f.unescapeHash(t)},f.setTitle=function(e){var t,r=e.title;r||(t=f.getStateByIndex(0),t&&t.url===e.url&&(r=t.title||f.options.initialTitle));try{n.getElementsByTagName("title")[0].innerHTML=r.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(a){}return n.title=r,f},f.queues=[],f.busy=function(e){if("undefined"!=typeof e?f.busy.flag=e:"undefined"==typeof f.busy.flag&&(f.busy.flag=!1),!f.busy.flag){s(f.busy.timeout);var t=function r(){var e,t,n;if(!f.busy.flag)for(e=f.queues.length-1;e>=0;--e)t=f.queues[e],0!==t.length&&(n=t.shift(),f.fireQueueItem(n),f.busy.timeout=i(r,f.options.busyDelay))};f.busy.timeout=i(t,f.options.busyDelay)}return f.busy.flag},f.busy.flag=!1,f.fireQueueItem=function(e){return e.callback.apply(e.scope||f,e.args||[])},f.pushQueue=function(e){return f.queues[e.queue||0]=f.queues[e.queue||0]||[],f.queues[e.queue||0].push(e),f},f.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof t&&(e.queue=t),f.busy()?f.pushQueue(e):f.fireQueueItem(e),f},f.clearQueue=function(){return f.busy.flag=!1,f.queues=[],f},f.stateChanged=!1,f.doubleChecker=!1,f.doubleCheckComplete=function(){return f.stateChanged=!0,f.doubleCheckClear(),f},f.doubleCheckClear=function(){return f.doubleChecker&&(s(f.doubleChecker),f.doubleChecker=!1),f},f.doubleCheck=function(e){return f.stateChanged=!1,f.doubleCheckClear(),f.bugs.ieDoubleCheck&&(f.doubleChecker=i(function(){return f.doubleCheckClear(),f.stateChanged||e(),!0},f.options.doubleCheckInterval)),f},f.safariStatePoll=function(){var t,r=f.extractState(f.getLocationHref());return f.isLastSavedState(r)?void 0:(t=r,t||(t=f.createStateObject()),f.Adapter.trigger(e,"popstate"),f)},f.back=function(e){return e!==!1&&f.busy()?(f.pushQueue({scope:f,callback:f.back,args:arguments,queue:e}),!1):(f.busy(!0),f.doubleCheck(function(){f.back(!1)}),h.go(-1),!0)},f.forward=function(e){return e!==!1&&f.busy()?(f.pushQueue({scope:f,callback:f.forward,args:arguments,queue:e}),!1):(f.busy(!0),f.doubleCheck(function(){f.forward(!1)}),h.go(1),!0)},f.go=function(e,t){var r;if(e>0)for(r=1;e>=r;++r)f.forward(t);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(r=-1;r>=e;--r)f.back(t)}return f},f.emulated.pushState){var g=function(){};f.pushState=f.pushState||g,f.replaceState=f.replaceState||g}else f.onPopState=function(t,r){var n,a,o=!1,i=!1;return f.doubleCheckComplete(),n=f.getHash(),n?(a=f.extractState(n||f.getLocationHref(),!0),a?f.replaceState(a.data,a.title,a.url,!1):(f.Adapter.trigger(e,"anchorchange"),f.busy(!1)),f.expectedStateId=!1,!1):(o=f.Adapter.extractEventData("state",t,r)||!1,i=o?f.getStateById(o):f.expectedStateId?f.getStateById(f.expectedStateId):f.extractState(f.getLocationHref()),i||(i=f.createStateObject(null,null,f.getLocationHref())),f.expectedStateId=!1,f.isLastSavedState(i)?(f.busy(!1),!1):(f.storeState(i),f.saveState(i),f.setTitle(i),f.Adapter.trigger(e,"statechange"),f.busy(!1),!0))},f.Adapter.bind(e,"popstate",f.onPopState),f.pushState=function(t,r,n,a){if(f.getHashByUrl(n)&&f.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&f.busy())return f.pushQueue({scope:f,callback:f.pushState,args:arguments,queue:a}),!1;f.busy(!0);var o=f.createStateObject(t,r,n);return f.isLastSavedState(o)?f.busy(!1):(f.storeState(o),f.expectedStateId=o.id,h.pushState(o.id,o.title,o.url),f.Adapter.trigger(e,"popstate")),!0},f.replaceState=function(t,r,n,a){if(f.getHashByUrl(n)&&f.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&f.busy())return f.pushQueue({scope:f,callback:f.replaceState,args:arguments,queue:a}),!1;f.busy(!0);var o=f.createStateObject(t,r,n);return f.isLastSavedState(o)?f.busy(!1):(f.storeState(o),f.expectedStateId=o.id,h.replaceState(o.id,o.title,o.url),f.Adapter.trigger(e,"popstate")),!0};if(o){try{f.store=c.parse(o.getItem("History.store"))||{}}catch(y){f.store={}}f.normalizeStore()}else f.store={},f.normalizeStore();f.Adapter.bind(e,"unload",f.clearAllIntervals),f.saveState(f.storeState(f.extractState(f.getLocationHref(),!0))),o&&(f.onUnload=function(){var e,t,r;try{e=c.parse(o.getItem("History.store"))||{}}catch(n){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in f.idToState)f.idToState.hasOwnProperty(t)&&(e.idToState[t]=f.idToState[t]);for(t in f.urlToId)f.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=f.urlToId[t]);for(t in f.stateToId)f.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=f.stateToId[t]);f.store=e,f.normalizeStore(),r=c.stringify(e);try{o.setItem("History.store",r)}catch(a){if(a.code!==DOMException.QUOTA_EXCEEDED_ERR)throw a;o.length&&(o.removeItem("History.store"),o.setItem("History.store",r))}},f.intervalList.push(l(f.onUnload,f.options.storeInterval)),f.Adapter.bind(e,"beforeunload",f.onUnload),f.Adapter.bind(e,"unload",f.onUnload)),f.emulated.pushState||(f.bugs.safariPoll&&f.intervalList.push(l(f.safariStatePoll,f.options.safariPollInterval)),("Apple Computer, Inc."===a.vendor||"Mozilla"===(a.appCodeName||""))&&(f.Adapter.bind(e,"hashchange",function(){f.Adapter.trigger(e,"popstate")}),f.getHash()&&f.Adapter.onDomLoad(function(){f.Adapter.trigger(e,"hashchange")})))},(!f.options||!f.options.delayInit)&&f.init()}(window)},{}]},{},[1]);
//# sourceMappingURL=../maps/bundle.min.js.map
